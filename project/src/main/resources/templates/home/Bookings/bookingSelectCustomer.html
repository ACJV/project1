<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
    <!---------------------------------------------------
        @Ástþór Arnar
        Page displays all customers registered in the database and
        allows user to select customer for booking being created.
    ---------------------------------------------------->

<body>

<!---------------------------------------------------
    Form has been tested in customer.html and works as intended
    but due to time constraints it has not yet reached testing for this page

<form th:action="@{/customer}" method="get">
    <input id="Search" type="text" name="keyword" placeholder="Search">
    <button type="submit">Go</button>
</form>

---------------------------------------------------->
<table >
    <thead >
    <tr>
        <th>No</th>
        <th>Name</th>
        <th>Driver Licence Number</th>
        <th>Date Of Birth</th>
        <th>Phone Number</th>
        <th>Email</th>
        <th></th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="customer: ${customers}">
        <td th:text="${customer.customerId}"/>
        <td th:text="${customer.fullName}"/>
        <td th:text="${customer.driverLicNo}"/>
        <td th:text="${customer.dob}"/>
        <td th:text="${customer.phoneNo}"/>
        <td th:text="${customer.email}"/>
        <td th:text="${customer.addressId}"/>
        <td>
            <!---------------------------------------------------
            Takes customerId for customer being selected and booking number for the booking being created.
            Href references a GetMapping method that can be found in AvailabilityController.
            ---------------------------------------------------->
            <a th:href="@{/selectCustomerForBooking/{bookingNo}/customer/{customerId}(bookingNo = ${booking.bookingNo}, customerId = ${customer.customerId})}">
                <button>
                    Select and Continue to booking
                </button>
            </a>
        </td>
    </tr>
    </tbody>
</table>
</body>
</html>
